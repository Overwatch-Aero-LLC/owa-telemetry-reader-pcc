<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Communications SDK: stream.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Communications SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('stream_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">stream.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Stream packet protocol for the Piccolo system.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;Types.h&quot;</code><br />
<code>#include &quot;<a class="el" href="Queue_8h.html">Queue.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Serial_8h.html">Serial.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structStreamPkt__t.html">StreamPkt_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a217ea4cde48d370251a33dad35dd6604"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a217ea4cde48d370251a33dad35dd6604">STREAM_PKT_OVERHEAD</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:a217ea4cde48d370251a33dad35dd6604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7d5f57f7c4ecc02fbe221979dbf5166"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#ae7d5f57f7c4ecc02fbe221979dbf5166">STREAM_PKT_HEADER</a>&#160;&#160;&#160;(<a class="el" href="stream_8h.html#a217ea4cde48d370251a33dad35dd6604">STREAM_PKT_OVERHEAD</a>-2)</td></tr>
<tr class="separator:ae7d5f57f7c4ecc02fbe221979dbf5166"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15830bea8edcd9f01e363571e747634d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a15830bea8edcd9f01e363571e747634d">MAX_STREAM_DATA_SIZE</a>&#160;&#160;&#160;255</td></tr>
<tr class="separator:a15830bea8edcd9f01e363571e747634d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab706f1ae8d8c265f7ed73fc65ff11e42"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#ab706f1ae8d8c265f7ed73fc65ff11e42">MAX_STREAM_PKT_SIZE</a>&#160;&#160;&#160;(<a class="el" href="stream_8h.html#a15830bea8edcd9f01e363571e747634d">MAX_STREAM_DATA_SIZE</a>+<a class="el" href="stream_8h.html#a217ea4cde48d370251a33dad35dd6604">STREAM_PKT_OVERHEAD</a>)</td></tr>
<tr class="separator:ab706f1ae8d8c265f7ed73fc65ff11e42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51426e58169ee38598e79adf97e5f434"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a51426e58169ee38598e79adf97e5f434">STREAM_SYNC</a>&#160;&#160;&#160;0x5A</td></tr>
<tr class="memdesc:a51426e58169ee38598e79adf97e5f434"><td class="mdescLeft">&#160;</td><td class="mdescRight">First packet synchronization character.  <a href="#a51426e58169ee38598e79adf97e5f434">More...</a><br /></td></tr>
<tr class="separator:a51426e58169ee38598e79adf97e5f434"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad972f666800ba853075fd4909283b495"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#ad972f666800ba853075fd4909283b495">STREAM_SYNC1</a>&#160;&#160;&#160;0xA5</td></tr>
<tr class="memdesc:ad972f666800ba853075fd4909283b495"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send packet synchronication character.  <a href="#ad972f666800ba853075fd4909283b495">More...</a><br /></td></tr>
<tr class="separator:ad972f666800ba853075fd4909283b495"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a294b587d460b14170d2ce3f4da9083ce"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a294b587d460b14170d2ce3f4da9083ce">BROADCAST_ADDRESS</a>&#160;&#160;&#160;0xFFFF</td></tr>
<tr class="memdesc:a294b587d460b14170d2ce3f4da9083ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address for broadcasting to all avionics.  <a href="#a294b587d460b14170d2ce3f4da9083ce">More...</a><br /></td></tr>
<tr class="separator:a294b587d460b14170d2ce3f4da9083ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7e775765fe3e72a22184455d61bae92"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#aa7e775765fe3e72a22184455d61bae92">OI_ADDRESS</a>&#160;&#160;&#160;0xFFFE</td></tr>
<tr class="memdesc:aa7e775765fe3e72a22184455d61bae92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address for all operator interfaces.  <a href="#aa7e775765fe3e72a22184455d61bae92">More...</a><br /></td></tr>
<tr class="separator:aa7e775765fe3e72a22184455d61bae92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff490501c023ae6a2e54b95aa531bc80"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#aff490501c023ae6a2e54b95aa531bc80">GS_ADDRESS</a>&#160;&#160;&#160;0x0000</td></tr>
<tr class="memdesc:aff490501c023ae6a2e54b95aa531bc80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address for all ground stations.  <a href="#aff490501c023ae6a2e54b95aa531bc80">More...</a><br /></td></tr>
<tr class="separator:aff490501c023ae6a2e54b95aa531bc80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bfaf96888fd37781a93cce5cfa70161"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a9bfaf96888fd37781a93cce5cfa70161">MIN_AUTOPILOT_ADDRESS</a>&#160;&#160;&#160;0x0001</td></tr>
<tr class="memdesc:a9bfaf96888fd37781a93cce5cfa70161"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum address for avionics.  <a href="#a9bfaf96888fd37781a93cce5cfa70161">More...</a><br /></td></tr>
<tr class="separator:a9bfaf96888fd37781a93cce5cfa70161"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6763b1fe5aa5339f5f0301d545dc204"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#af6763b1fe5aa5339f5f0301d545dc204">MAX_AUTOPILOT_ADDRESS</a>&#160;&#160;&#160;0xFFF0</td></tr>
<tr class="memdesc:af6763b1fe5aa5339f5f0301d545dc204"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum address for avionics.  <a href="#af6763b1fe5aa5339f5f0301d545dc204">More...</a><br /></td></tr>
<tr class="separator:af6763b1fe5aa5339f5f0301d545dc204"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab0b653be6f576777e438fd967984ab63"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#ab0b653be6f576777e438fd967984ab63">LookForStreamPacket</a> (<a class="el" href="structStreamPkt__t.html">StreamPkt_t</a> *pPkt, <a class="el" href="structSerial__t.html">Serial_t</a> *pPort)</td></tr>
<tr class="separator:ab0b653be6f576777e438fd967984ab63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adac76228d6effee9b6271cf7d5165e27"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#adac76228d6effee9b6271cf7d5165e27">LookForStreamPacketInQueue</a> (<a class="el" href="structStreamPkt__t.html">StreamPkt_t</a> *pPkt, <a class="el" href="structQueue__t.html">Queue_t</a> *pQ)</td></tr>
<tr class="separator:adac76228d6effee9b6271cf7d5165e27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f93630ac3b05494065802cb9411475f"><td class="memItemLeft" align="right" valign="top">SInt32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a3f93630ac3b05494065802cb9411475f">LookForStreamPacketInByte</a> (<a class="el" href="structStreamPkt__t.html">StreamPkt_t</a> *pPkt, UInt8 Byte)</td></tr>
<tr class="separator:a3f93630ac3b05494065802cb9411475f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd71e742d4d0eca912303c7e56e20627"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#abd71e742d4d0eca912303c7e56e20627">MakePacketHeader</a> (<a class="el" href="structStreamPkt__t.html">StreamPkt_t</a> *pPkt, UInt16 DestinationID, UInt16 SourceID, UInt8 Stream, UInt8 Flags, UInt16 Sequence, UInt16 Acknowledge, UInt16 DataSize)</td></tr>
<tr class="separator:abd71e742d4d0eca912303c7e56e20627"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06ffc45d4cb49640c3d9d7975caaa180"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a06ffc45d4cb49640c3d9d7975caaa180">MakePacket</a> (<a class="el" href="structStreamPkt__t.html">StreamPkt_t</a> *pPkt, UInt16 DestinationID, UInt16 SourceID, UInt8 Stream, UInt8 Flags, UInt16 Sequence, UInt16 Acknowledge, const UInt8 *pData, UInt16 DataSize)</td></tr>
<tr class="separator:a06ffc45d4cb49640c3d9d7975caaa180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadaf52787bd8eefa2316edde7870f5dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#aadaf52787bd8eefa2316edde7870f5dc">CRCPacket</a> (<a class="el" href="structStreamPkt__t.html">StreamPkt_t</a> *pPkt)</td></tr>
<tr class="separator:aadaf52787bd8eefa2316edde7870f5dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Stream packet protocol for the Piccolo system. </p>
<p>The data sent to or from any one avionics are made up of multiple bi-directional streams which are multiplexed onto the communications channel. Each stream represents an endpoint in the avionics, which is either defined by software or by a physical port on the avionics. The stream module defines a basic stream packet format, and provides low level stream packet formatting and decoding routines.</p>
<p>Note that the stream packet protocol definition changed from software versions 1.1.x to 1.2.x. They changes are not backwards compatible </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a294b587d460b14170d2ce3f4da9083ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BROADCAST_ADDRESS&#160;&#160;&#160;0xFFFF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Address for broadcasting to all avionics. </p>

</div>
</div>
<a class="anchor" id="aff490501c023ae6a2e54b95aa531bc80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GS_ADDRESS&#160;&#160;&#160;0x0000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Address for all ground stations. </p>

<p>Referenced by <a class="el" href="CommBaseGndStation_8c.html#a132d69dcd95f862ebe5f3b26d9c7ba07">CommBase_SendGroundStationPacket()</a>.</p>

</div>
</div>
<a class="anchor" id="af6763b1fe5aa5339f5f0301d545dc204"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_AUTOPILOT_ADDRESS&#160;&#160;&#160;0xFFF0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum address for avionics. </p>

</div>
</div>
<a class="anchor" id="a15830bea8edcd9f01e363571e747634d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_STREAM_DATA_SIZE&#160;&#160;&#160;255</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The maximum amount of data that a stream packet can contain is 255 bytes </p>

<p>Referenced by <a class="el" href="stream_8h.html#a06ffc45d4cb49640c3d9d7975caaa180">MakePacket()</a>.</p>

</div>
</div>
<a class="anchor" id="ab706f1ae8d8c265f7ed73fc65ff11e42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_STREAM_PKT_SIZE&#160;&#160;&#160;(<a class="el" href="stream_8h.html#a15830bea8edcd9f01e363571e747634d">MAX_STREAM_DATA_SIZE</a>+<a class="el" href="stream_8h.html#a217ea4cde48d370251a33dad35dd6604">STREAM_PKT_OVERHEAD</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The entire stream packet can be no more than 271 bytes </p>

</div>
</div>
<a class="anchor" id="a9bfaf96888fd37781a93cce5cfa70161"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIN_AUTOPILOT_ADDRESS&#160;&#160;&#160;0x0001</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Minimum address for avionics. </p>

</div>
</div>
<a class="anchor" id="aa7e775765fe3e72a22184455d61bae92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OI_ADDRESS&#160;&#160;&#160;0xFFFE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Address for all operator interfaces. </p>

<p>Referenced by <a class="el" href="classUdpAutoDetector.html#aaab2d7d1ef7c21151af92345570692a4">UdpAutoDetector::checkForNewServers()</a>.</p>

</div>
</div>
<a class="anchor" id="ae7d5f57f7c4ecc02fbe221979dbf5166"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STREAM_PKT_HEADER&#160;&#160;&#160;(<a class="el" href="stream_8h.html#a217ea4cde48d370251a33dad35dd6604">STREAM_PKT_OVERHEAD</a>-2)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stream packets have 14 byte headers </p>

<p>Referenced by <a class="el" href="stream_8h.html#aadaf52787bd8eefa2316edde7870f5dc">CRCPacket()</a>, and <a class="el" href="stream_8h.html#a3f93630ac3b05494065802cb9411475f">LookForStreamPacketInByte()</a>.</p>

</div>
</div>
<a class="anchor" id="a217ea4cde48d370251a33dad35dd6604"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STREAM_PKT_OVERHEAD&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stream packets have 16 bytes of overhead </p>

</div>
</div>
<a class="anchor" id="a51426e58169ee38598e79adf97e5f434"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STREAM_SYNC&#160;&#160;&#160;0x5A</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>First packet synchronization character. </p>

<p>Referenced by <a class="el" href="stream_8h.html#a3f93630ac3b05494065802cb9411475f">LookForStreamPacketInByte()</a>, and <a class="el" href="stream_8h.html#abd71e742d4d0eca912303c7e56e20627">MakePacketHeader()</a>.</p>

</div>
</div>
<a class="anchor" id="ad972f666800ba853075fd4909283b495"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STREAM_SYNC1&#160;&#160;&#160;0xA5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send packet synchronication character. </p>

<p>Referenced by <a class="el" href="stream_8h.html#a3f93630ac3b05494065802cb9411475f">LookForStreamPacketInByte()</a>, and <a class="el" href="stream_8h.html#abd71e742d4d0eca912303c7e56e20627">MakePacketHeader()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aadaf52787bd8eefa2316edde7870f5dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CRCPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structStreamPkt__t.html">StreamPkt_t</a> *&#160;</td>
          <td class="paramname"><em>pPkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Form the header check sum and packet CRC for the passed stream packet </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pPkt</td><td>points to a stream packet structure which is complete except for the header checksum and crc. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="CRC_8h.html#a692b75678dfde5d169d8f1140dd22757">CRC16()</a>, <a class="el" href="structStreamPkt__t.html#a6f125ca68eb9baa9ade476f4df9f42de">StreamPkt_t::Data</a>, <a class="el" href="structStreamPkt__t.html#a545e36cf420d8d2bf467434683e3baae">StreamPkt_t::HdrChk</a>, <a class="el" href="structStreamPkt__t.html#aa47ec0af4b2c0e945745885f243625a5">StreamPkt_t::Size</a>, and <a class="el" href="stream_8h.html#ae7d5f57f7c4ecc02fbe221979dbf5166">STREAM_PKT_HEADER</a>.</p>

<p>Referenced by <a class="el" href="stream_8h.html#a06ffc45d4cb49640c3d9d7975caaa180">MakePacket()</a>.</p>

</div>
</div>
<a class="anchor" id="ab0b653be6f576777e438fd967984ab63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL LookForStreamPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structStreamPkt__t.html">StreamPkt_t</a> *&#160;</td>
          <td class="paramname"><em>pPkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSerial__t.html">Serial_t</a> *&#160;</td>
          <td class="paramname"><em>pPort</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Search for a stream packet coming over a physical serial channel. If a stream packet is found this function returns TRUE. The packet storage provided by the caller MUST persist between calls, since this function may partially complete a packet and then return FALSE while waiting for more data to arrive. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pPkt</td><td>points to a stream packet structure which must persist between calls. </td></tr>
    <tr><td class="paramname">pPort</td><td>identifies a previously opened serial port. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if a packet is found, else FALSE. </dd></dl>

<p>References <a class="el" href="structStreamPkt__t.html#a6f125ca68eb9baa9ade476f4df9f42de">StreamPkt_t::Data</a>, <a class="el" href="structStreamPkt__t.html#a545e36cf420d8d2bf467434683e3baae">StreamPkt_t::HdrChk</a>, <a class="el" href="Serial__PC_8c.html#a074807fc455a5b0941c8b93244d571bc">ReadBlockQuick()</a>, <a class="el" href="Serial__PC_8c.html#a0646d2af96a66f2d4e36bcbd374e8003">ReadByteQuick()</a>, <a class="el" href="Serial__PC_8c.html#affcb030b590d2a583fdfae3b8a8d1095">ReverseSerialRxQueue()</a>, and <a class="el" href="structStreamPkt__t.html#aa47ec0af4b2c0e945745885f243625a5">StreamPkt_t::Size</a>.</p>

</div>
</div>
<a class="anchor" id="a3f93630ac3b05494065802cb9411475f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SInt32 LookForStreamPacketInByte </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structStreamPkt__t.html">StreamPkt_t</a> *&#160;</td>
          <td class="paramname"><em>pPkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt8&#160;</td>
          <td class="paramname"><em>Byte</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Search for a stream packet contained in a series of single bytes passed to this function on multiple calls. The packet storage provided by the caller MUST persist between calls, since this function will partially complete a packet and then return -1 while waiting for more data to arrive. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pPkt</td><td>points to a stream packet structure which must persist between calls. </td></tr>
    <tr><td class="paramname">Byte</td><td>contains the next piece of receive data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if a packet is found, less than 0 if no packet is found. If the return is greater than zero then an error was detected in the byte sequence, and the return value represents the number of bytes to back up in order to minimize the amount of lost data. </dd></dl>

<p>References <a class="el" href="structStreamPkt__t.html#ae7b0baea41acb943314cd4981f0f0742">StreamPkt_t::AckHi</a>, <a class="el" href="structStreamPkt__t.html#a8c7e4fa1602952b4cf73e3733a0b8562">StreamPkt_t::AckLo</a>, <a class="el" href="CRC_8h.html#a692b75678dfde5d169d8f1140dd22757">CRC16()</a>, <a class="el" href="structStreamPkt__t.html#a6f125ca68eb9baa9ade476f4df9f42de">StreamPkt_t::Data</a>, <a class="el" href="structStreamPkt__t.html#a1da8d650ff69428f1053a317cadd5b7c">StreamPkt_t::DestHi</a>, <a class="el" href="structStreamPkt__t.html#a6ff2870f21bd03d9f296bfd99fff9f5d">StreamPkt_t::DestLo</a>, <a class="el" href="structStreamPkt__t.html#a5b0d2d609c6111830122f5aca6421fa2">StreamPkt_t::Flags</a>, <a class="el" href="structStreamPkt__t.html#a545e36cf420d8d2bf467434683e3baae">StreamPkt_t::HdrChk</a>, <a class="el" href="structStreamPkt__t.html#a00c5fdb6678973a28effc7daa5b4fe7c">StreamPkt_t::SeqHi</a>, <a class="el" href="structStreamPkt__t.html#a1045cb8c382377ebe7fc41ea0e06648f">StreamPkt_t::SeqLo</a>, <a class="el" href="structStreamPkt__t.html#aa47ec0af4b2c0e945745885f243625a5">StreamPkt_t::Size</a>, <a class="el" href="structStreamPkt__t.html#aec045c74237f44e4a1988528427feb9b">StreamPkt_t::SourceHi</a>, <a class="el" href="structStreamPkt__t.html#a9dec2e2dd1b3dd97a60653cb6c5f36fd">StreamPkt_t::SourceLo</a>, <a class="el" href="structStreamPkt__t.html#a8babc25f346f19949c68bce0af69e000">StreamPkt_t::Stream</a>, <a class="el" href="stream_8h.html#ae7d5f57f7c4ecc02fbe221979dbf5166">STREAM_PKT_HEADER</a>, <a class="el" href="stream_8h.html#a51426e58169ee38598e79adf97e5f434">STREAM_SYNC</a>, <a class="el" href="stream_8h.html#ad972f666800ba853075fd4909283b495">STREAM_SYNC1</a>, <a class="el" href="structStreamPkt__t.html#a508fe253b5ed08bcb268efe38e93a126">StreamPkt_t::Sync</a>, and <a class="el" href="structStreamPkt__t.html#aa00586148e0839c3c24028bb653b8574">StreamPkt_t::Sync1</a>.</p>

<p>Referenced by <a class="el" href="classUdpAutoDetector.html#aaab2d7d1ef7c21151af92345570692a4">UdpAutoDetector::checkForNewServers()</a>.</p>

</div>
</div>
<a class="anchor" id="adac76228d6effee9b6271cf7d5165e27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL LookForStreamPacketInQueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structStreamPkt__t.html">StreamPkt_t</a> *&#160;</td>
          <td class="paramname"><em>pPkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structQueue__t.html">Queue_t</a> *&#160;</td>
          <td class="paramname"><em>pQ</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Search for a stream packet contained in a queue. If a stream packet is found this function returns TRUE. The packet storage provided by the caller MUST persist between calls, since this function may partially complete a packet and then return FALSE while waiting for more data to arrive. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pPkt</td><td>points to a stream packet structure which must persist between calls. </td></tr>
    <tr><td class="paramname">pQ</td><td>points to a queue which contains received data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if a packet is found, else FALSE. </dd></dl>

<p>References <a class="el" href="Queue_8h.html#a63dcebd0a612619b8149ac1905b4b5ab">BlockDeQFast()</a>, <a class="el" href="structStreamPkt__t.html#a6f125ca68eb9baa9ade476f4df9f42de">StreamPkt_t::Data</a>, <a class="el" href="Queue_8h.html#a7260b3138e9acc3591b2b95e2c4efcab">DeQFast()</a>, <a class="el" href="structStreamPkt__t.html#a545e36cf420d8d2bf467434683e3baae">StreamPkt_t::HdrChk</a>, <a class="el" href="Queue_8h.html#a0be71d93fc5d5f35042c52d3c179ae9c">ReverseDeQFast()</a>, and <a class="el" href="structStreamPkt__t.html#aa47ec0af4b2c0e945745885f243625a5">StreamPkt_t::Size</a>.</p>

</div>
</div>
<a class="anchor" id="a06ffc45d4cb49640c3d9d7975caaa180"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MakePacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structStreamPkt__t.html">StreamPkt_t</a> *&#160;</td>
          <td class="paramname"><em>pPkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt16&#160;</td>
          <td class="paramname"><em>DestinationID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt16&#160;</td>
          <td class="paramname"><em>SourceID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt8&#160;</td>
          <td class="paramname"><em>Stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt8&#160;</td>
          <td class="paramname"><em>Flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt16&#160;</td>
          <td class="paramname"><em>Sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt16&#160;</td>
          <td class="paramname"><em>Acknowledge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const UInt8 *&#160;</td>
          <td class="paramname"><em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt16&#160;</td>
          <td class="paramname"><em>DataSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Form a packet from the passed parameters. The resulting packet will be ready to transmit, i.e. the header check and CRC will be complete </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pPkt</td><td>points to a stream packet structure which will be formatted. </td></tr>
    <tr><td class="paramname">DestinationID</td><td>is the destination network identifier. </td></tr>
    <tr><td class="paramname">SourceID</td><td>is the source network identifier. </td></tr>
    <tr><td class="paramname">Stream</td><td>is the stream identifier. </td></tr>
    <tr><td class="paramname">Flag</td><td>is the flags field </td></tr>
    <tr><td class="paramname">Sequence</td><td>is the seq field </td></tr>
    <tr><td class="paramname">Acknowledge</td><td>is the ack field </td></tr>
    <tr><td class="paramname">pData</td><td>points to a buffer of data to be included in the packet. </td></tr>
    <tr><td class="paramname">DataSize</td><td>is the amount of data to be included in the packet. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="stream_8h.html#aadaf52787bd8eefa2316edde7870f5dc">CRCPacket()</a>, <a class="el" href="structStreamPkt__t.html#a6f125ca68eb9baa9ade476f4df9f42de">StreamPkt_t::Data</a>, <a class="el" href="stream_8h.html#abd71e742d4d0eca912303c7e56e20627">MakePacketHeader()</a>, and <a class="el" href="stream_8h.html#a15830bea8edcd9f01e363571e747634d">MAX_STREAM_DATA_SIZE</a>.</p>

</div>
</div>
<a class="anchor" id="abd71e742d4d0eca912303c7e56e20627"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MakePacketHeader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structStreamPkt__t.html">StreamPkt_t</a> *&#160;</td>
          <td class="paramname"><em>pPkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt16&#160;</td>
          <td class="paramname"><em>DestinationID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt16&#160;</td>
          <td class="paramname"><em>SourceID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt8&#160;</td>
          <td class="paramname"><em>Stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt8&#160;</td>
          <td class="paramname"><em>Flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt16&#160;</td>
          <td class="paramname"><em>Sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt16&#160;</td>
          <td class="paramname"><em>Acknowledge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt16&#160;</td>
          <td class="paramname"><em>DataSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Form the header of a packet from the passed parameters. The resulting packet will still need the data copied into it, the header checksum, and the main CRC completed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pPkt</td><td>points to a stream packet structure which will be formatted. </td></tr>
    <tr><td class="paramname">DestinationID</td><td>is the destination network identifier. </td></tr>
    <tr><td class="paramname">SourceID</td><td>is the source network identifier. </td></tr>
    <tr><td class="paramname">Stream</td><td>is the stream identifier. </td></tr>
    <tr><td class="paramname">Flag</td><td>is the flags field </td></tr>
    <tr><td class="paramname">Sequence</td><td>is the seq field </td></tr>
    <tr><td class="paramname">Acknowledge</td><td>is the ack field </td></tr>
    <tr><td class="paramname">DataSize</td><td>is the amount of data to be included in the packet. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="structStreamPkt__t.html#ae7b0baea41acb943314cd4981f0f0742">StreamPkt_t::AckHi</a>, <a class="el" href="structStreamPkt__t.html#a8c7e4fa1602952b4cf73e3733a0b8562">StreamPkt_t::AckLo</a>, <a class="el" href="structStreamPkt__t.html#a1da8d650ff69428f1053a317cadd5b7c">StreamPkt_t::DestHi</a>, <a class="el" href="structStreamPkt__t.html#a6ff2870f21bd03d9f296bfd99fff9f5d">StreamPkt_t::DestLo</a>, <a class="el" href="structStreamPkt__t.html#a5b0d2d609c6111830122f5aca6421fa2">StreamPkt_t::Flags</a>, <a class="el" href="structStreamPkt__t.html#a00c5fdb6678973a28effc7daa5b4fe7c">StreamPkt_t::SeqHi</a>, <a class="el" href="structStreamPkt__t.html#a1045cb8c382377ebe7fc41ea0e06648f">StreamPkt_t::SeqLo</a>, <a class="el" href="structStreamPkt__t.html#aa47ec0af4b2c0e945745885f243625a5">StreamPkt_t::Size</a>, <a class="el" href="structStreamPkt__t.html#aec045c74237f44e4a1988528427feb9b">StreamPkt_t::SourceHi</a>, <a class="el" href="structStreamPkt__t.html#a9dec2e2dd1b3dd97a60653cb6c5f36fd">StreamPkt_t::SourceLo</a>, <a class="el" href="structStreamPkt__t.html#a8babc25f346f19949c68bce0af69e000">StreamPkt_t::Stream</a>, <a class="el" href="stream_8h.html#a51426e58169ee38598e79adf97e5f434">STREAM_SYNC</a>, <a class="el" href="stream_8h.html#ad972f666800ba853075fd4909283b495">STREAM_SYNC1</a>, <a class="el" href="structStreamPkt__t.html#a508fe253b5ed08bcb268efe38e93a126">StreamPkt_t::Sync</a>, and <a class="el" href="structStreamPkt__t.html#aa00586148e0839c3c24028bb653b8574">StreamPkt_t::Sync1</a>.</p>

<p>Referenced by <a class="el" href="stream_8h.html#a06ffc45d4cb49640c3d9d7975caaa180">MakePacket()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_6858287c2095cbe2cb1b47261e44fa7a.html">All</a></li><li class="navelem"><a class="el" href="stream_8h.html">stream.h</a></li>
    <li class="footer">Generated on Wed Aug 2 2017 09:25:44 for Communications SDK by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
